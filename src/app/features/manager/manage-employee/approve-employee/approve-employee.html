<app-menu-manager>
  <div class="page-container">
    <div class="header flex align-items-center mb-4">
      <button class="back-btn" (click)="back()"><i class="pi pi-angle-left"></i> Back</button>
      <h1 class="page-title ml-3">คำขอเป็นพนักงาน</h1>
    </div>

    <div class="table-wrapper">
      <p-table
        [value]="employees"
        [rows]="10"
        [paginator]="true"
        [showCurrentPageReport]="true"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
        styleClass="custom-dark-table"
        [rowHover]="true"
      >
        <ng-template pTemplate="header">
          <tr>
            <th style="width: 5%">อันดับ</th>
            <th style="width: 10%">รหัสพนักงาน</th>
            <th style="width: 15%">ชื่อพนักงาน</th>
            <th style="width: 10%">ประเภทพนักงาน</th>
            <th style="width: 10%">แผนก</th>
            <th style="width: 15%" class="text-center">เบอร์โทร</th>
            <th style="width: 5%" class="text-center">เพศ</th>
            <th style="width: 15%" class="text-center">จัดการ</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-emp let-i="rowIndex">
          <tr>
            <td>{{ i + 1 }}</td>
            <td class="font-bold">{{ emp.emp_id }}</td>
            <td>{{ emp.fullname }}</td>
            <td>{{ emp.employee_Type }}</td>
            <td>{{ emp.department }}</td>
            <td class="text-center">{{ emp.phone }}</td>
            <td class="text-center">{{ emp.gender }}</td>
            <td class="text-center">
              <div class="flex justify-content-center gap-2">
                <button class="action-btn btn-approve" (click)="approve(emp.emp_id)">
                  อนุมัติ
                </button>
                <button class="action-btn btn-reject" (click)="reject(emp.emp_id)">ปฏิเสธ</button>
              </div>
            </td>
          </tr>
        </ng-template>

        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="8" class="text-center p-4 text-white">ไม่พบผู้สมัครงาน</td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</app-menu-manager>
