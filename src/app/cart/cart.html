<app-customer-navbar>
  <p-toast position="top-center"></p-toast>
  <div class="cart-page">
    <div class="background-wrapper">
      <img src="assets/Images/bg.png" alt="background" class="bg-img" />
      <div class="bg-overlay"></div>
    </div>

    <div class="container">
      <div class="page-header">
        <h1>รถเข็นของคุณ</h1>
        <mat-icon>shopping_cart</mat-icon>
      </div>

      <div class="content-box">
        <div class="box-header">รายการเมนูอาหารที่สั่ง</div>

        <div class="cart-table">
          <div class="table-head">
            <div class="col-check center">
              <div class="custom-checkbox-dummy checked">
                <mat-icon>check</mat-icon>
              </div>
            </div>
            <div class="col-name">สินค้า</div>
            <div class="col-price center">ราคาต่อชิ้น</div>
            <div class="col-qty center">จำนวน</div>
            <div class="col-action center">แอคชั่น</div>
          </div>

          <div class="table-row" *ngFor="let item of cartItems">
            <div class="col-check center">
              <label class="custom-checkbox-container">
                <input type="checkbox" [(ngModel)]="item.selected" />
                <span class="checkmark">
                  <mat-icon>check</mat-icon>
                </span>
              </label>
            </div>
            <div class="col-name">{{ item.name }}</div>
            <div class="col-price center">{{ item.price }} ฿</div>

            <div class="col-qty center">
              <div class="qty-control">
                <button class="qty-btn" (click)="decreaseQty(item)">
                  <mat-icon>remove_circle</mat-icon>
                </button>
                <span class="qty-value">{{ item.quantity }}</span>
                <button class="qty-btn" (click)="increaseQty(item)">
                  <mat-icon>add_circle</mat-icon>
                </button>
              </div>
            </div>

            <div class="col-action center">
              <button class="delete-btn" (click)="removeItem(item.id)">ลบ</button>
            </div>
          </div>

          <div class="table-footer">
            <div class="footer-left">
              <label class="custom-checkbox-container select-all">
                <input type="checkbox" [(ngModel)]="isAllSelected" />
                <span class="checkmark">
                  <mat-icon>check</mat-icon>
                </span>
                <span class="label-text">เลือกทั้งหมด ({{ cartItems.length }})</span>
              </label>
            </div>
            <div class="footer-right">
              <span class="summary-text">
                รวม ({{ totalSelectedItems }} รายการ):
                <span class="price">{{ totalPrice }} ฿</span>
              </span>
              <button class="order-btn" pRipple (click)="placeOrder()">สั่งอาหาร</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</app-customer-navbar>
